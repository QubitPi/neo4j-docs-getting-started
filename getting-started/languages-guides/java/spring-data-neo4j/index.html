<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1">
    <meta name="msvalidate.01" content="B5163518CBE4A854B63801277FE5E35C" />
    <meta name="google-site-verification" content="ucqagxjVuq0lJZeLKs0F5AppzK111lNt3IoxU6mzlJE" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WK23PSS');</script>
<!-- Hotjar Tracking Code for staging -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3587741,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<!-- End Hotjar Tracking code -->
    <title>Spring Data Neo4j - Getting Started</title>
    <link rel="prev" href="../java-intro/">
    <link rel="next" href="../quarkus/">
      <meta name="description" content="For Java developers who use the Spring Framework or Spring Boot and want to take advantage of reactive development principles, this guide introduces Spring integration through the Spring Data Neo4j project.">
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.css" />
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/utilities.min.css" />

    <link rel="preload" href="../../../../assets/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font">
    <link rel="stylesheet" href="../../../../assets/css/site.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />



    <meta property="neo:type" content="Docs">
    <meta property="neo:site" content="Reference Docs">


    <meta property="og:site_name" content="Neo4j Graph Data Platform" />
    <meta property="article:publisher" content="https://www.facebook.com/neo4j.graph.database" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@neo4j" />
    <meta name="twitter:site" content="@neo4j" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Spring Data Neo4j - Getting Started" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://dist.neo4j.com/wp-content/uploads/20210423062553/neo4j-social-share-21.png" />
    <meta property="og:description" content="For Java developers who use the Spring Framework or Spring Boot and want to take advantage of reactive development principles, this guide introduces Spring integration through the Spring Data Neo4j project." />
    <meta property="og:url" content="https://neo4j.com/docs/getting-started/languages-guides/java/spring-data-neo4j/" />
    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />
  </head>
  <body class="article docs">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK23PSS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script>(function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);
mixpanel.init("4bfb2414ab973c741b6f067bf06d5575", {batch_requests: true})
mixpanel.track("Page View", {
    pathname: window.location.origin + window.location.pathname,
    search: window.location.search,
    hash: window.location.hash,
    referrer: document.referrer,
})
</script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">

      <img class="navbar-logo" src="https://dist.neo4j.com/wp-content/uploads/20210422142941/neo4j-logo-2020.svg" alt="Neo4j Docs" />
      <a href="/docs/" class="navbar-item no-left-padding" aria-label="Docs">
        Docs
      </a>

      </div>

      <button class="navbar-search search-button" data-target="topbar-nav" id="search_open_mobile" aria-label="Open Search">
        <svg width="23px" height="23px" viewBox="0 0 23 23" version="1.1" class="fill-current float-right" id="searchx" role="button" title="Search Website">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
            stroke-linejoin="round">
            <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
              <circle
                transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                cx="11.3893642" cy="11.3885639" r="8.056"></circle>
              <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
            </g>
          </g>
        </svg>
      </button>
      <button class="navbar-burger" data-target="topbar-nav" aria-label="Mobile Navigation Button">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">


        <div class="navbar-item has-dropdown is-hoverable docs">
          <a class="navbar-link" href="/docs/">Docs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <span class="project-name">Neo4j DBMS</span>
              <ul class="project-links">
                <li><a href="/docs/getting-started/current/" class="project-link">Getting Started</a></li>
                <li><a href="/docs/operations-manual/current/" class="project-link">Operations</a></li>
                <li><a href="/docs/migration-guide/current/" class="project-link">Migration and Upgrade</a></li>
                <li><a href="/docs/status-codes/current/" class="project-link">Status Codes</a></li>
                <li><a href="/docs/java-reference/current/" class="project-link">Java Reference</a></li>
                <li><a href="/docs/kerberos-add-on/current/" class="project-link">Kerberos Add-on</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="/docs/aura/">Neo4j Aura</a>
              <ul class="project-links">
                <li><a class="project-link" href="/docs/aura">Neo4j Aura</a></li>
                <li><a class="project-link" href="/docs/aura/auradb/">Neo4j AuraDB</a></li>
                <li><a class="project-link" href="/docs/aura/aurads/">Neo4j AuraDS</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Tools</span>
              <ul class="project-links">
                <li><a href="/docs/bloom-user-guide/current/" class="project-link">Neo4j Bloom</a></li>
                <li><a href="/docs/browser-manual/current/" class="project-link">Neo4j Browser</a></li>
                <li><a href="/docs/data-importer/current/" class="project-link">Neo4j Data Importer</a></li>
                <li><a href="/docs/desktop-manual/current/" class="project-link">Neo4j Desktop</a></li>
                <li><a href="/docs/ops-manager/current/" class="project-link">Neo4j Ops Manager</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Graph Data Science</span>
              <ul class="project-links">
                <li><a href="/docs/graph-data-science/current/" class="project-link">Neo4j Graph Data Science Library</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Cypher Query Language</span>
              <ul class="project-links">
                <li><a href="/docs/cypher-manual/current/" class="project-link">Cypher</a></li>
                <li><a href="/docs/cypher-cheat-sheet/current/" class="project-link">Cypher Cheat Sheet</a></li>
                <li><a href="/docs/apoc/current/" class="project-link">APOC Library</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name" href="/docs/drivers-apis">Create applications</span>
              <ul class="project-links">
                <li><a href="/docs/python-manual/current/" class="project-link">Python Driver</a></li>
                <li><a href="/docs/go-manual/current/" class="project-link">Go Driver</a></li>
                <li><a href="/docs/java-manual/current/" class="project-link">Java Driver</a></li>
                <li><a href="/docs/javascript-manual/current/" class="project-link">JavaScript Driver</a></li>
                <li><a href="/docs/dotnet-manual/current/" class="project-link">.Net Driver</a></li>
                <li><a href="/docs/graphql-manual/current/" class="project-link">Neo4j GraphQL Library</a></li>
                <li><a href="/docs/http-api/current/" class="project-link">HTTP API</a></li>
                <li><a href="/docs/ogm-manual/current/" class="project-link">OGM Library</a></li>
                <li><a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#reference" class="project-link">Spring Data Neo4j</a></li>
                <li><a href="/docs/spark/" class="project-link">Neo4j Connector for Apache Spark</a></li>
                <li><a href="/docs/kafka/" class="project-link">Neo4j Connector for Apache Kafka</a></li>
              </ul>
            </div>

          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable labs">
          <a class="navbar-link" href="/labs/">Labs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="/labs/arrows/">arrows.app</a>
              <ul class="project-links">
                <li><a href="/labs/arrows/" class="project-link">Details</a></li>
                <li><a href="https://arrows.app" class="project-link">arrows.app</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/apoc/">APOC Extended</a>

              <ul class="project-links">
                <li><a href="/labs/apoc/5/" class="project-link">Documentation</a></li>
                <li><a href="/developer/neo4j-apoc/" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/halin/">Halin</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/etl-tool/">ETL Tool</a>
              <ul class="project-links">
                <li><a href="/labs/etl-tool/" class="project-link">Details</a></li>
                <li><a href="/labs/etl-tool/1.5.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neo4j-migrations/">Neo4j Migrations</a>
              <ul class="project-links">
                <li><a href="/labs/neo4j-migrations/" class="project-link">Details</a></li>
                <li><a href="/labs/neo4j-migrations/2.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/liquibase/">Neo4j Plugin For Liquibase</a>
              <ul class="project-links">
                <li><a href="/labs/liquibase/" class="project-link">Details</a></li>
                <li><a href="https://github.com/liquibase/liquibase-neo4j" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neosemantics/">Neosemantics</a>
              <ul class="project-links">
                <li><a href="/labs/neosemantics/tutorial/" class="project-link">Getting Started</a></li>
                <li><a href="/labs/neosemantics/4.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neo4j-helm/">Neo4j Helm</a>
              <ul class="project-links">
                <li><a href="/labs/neo4j-helm/" class="project-link">Details</a></li>
                <li><a href="/labs/neo4j-helm/1.0.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neodash/">NeoDash</a>
              <ul class="project-links">
                <li><a href="/labs/neodash/" class="project-link">Details</a></li>
                <li><a href="/labs/neodash/2.1/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neomodel/">neomodel</a>
              <ul class="project-links">
                <li><a href="/labs/neomodel/" class="project-link">Details</a></li>
                <li><a href="https://neomodel.readthedocs.io/en/latest/" target="_blank" class="project-link">Documentation</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable developer">
          <a class="navbar-link" href="/developer/resources/">Get Help</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/?ref=docs" target="_blank">GraphAcademy</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/?ref=docs">Free, Self Paced Training</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/certification/?ref=docs" target="_blank">Certification</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/forum" target="_blank">Community Forum</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/chat" target="_blank">Discord Chat</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/developer/kb" target="_blank">Knowledge Base</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://medium.com/neo4j" target="_blank">Neo4j Developer Blog</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://www.youtube.com/neo4j" target="_blank">Neo4j Videos</a>
            </div>
          </div>
        </div>
        <div class="navbar-item is-hoverable getting-started-cta">
          <a class="navbar-link primary" href="https://neo4j.com/cloud/platform/aura-graph-database/?ref=docs-nav-get-started">Get Started Free</a>
        </div>
        <div class="navbar-item">
          <a class="navbar-link search-button" href="#search" id="search_open"><svg width="23px" height="23px" viewBox="0 0 23 23"
              version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              class="fill-current float-right" id="search" role="button" title="Search Website">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
                stroke-linejoin="round">
                <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                  <circle
                    transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                    cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                  <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
                </g>
              </g>
            </svg><span class="navbar-mobile">Search</span></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="getting-started" data-version="">
  <aside class="nav">
    <div class="panels">
      <div class="selectors">
        
      </div>
      <div class="nav-panel-menu is-active" data-panel="menu">
    <nav class="nav-menu">
    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../">Welcome to Neo4j</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../get-started-with-neo4j/">Get started with Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../get-started-with-neo4j/graph-database/">What is a graph database?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../data-modeling/">Model your data for Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/guide-data-modeling/">Graph modeling guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/modeling-designs/">Modeling designs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/relational-to-graph-modeling/">Modeling: relational to graph</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/modeling-tips/">Graph modeling tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/graph-model-refactoring/">Graph model refactoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-modeling/data-modeling-tools/">Data modeling tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../data-import/">Import your data into Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-import/csv-import/">Importing CSV data into Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-import/json-rest-api-import/">Importing JSON data from a REST API into Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../data-import/relational-to-graph-import/">Import: RDBMS to graph</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../cypher-intro/">Query a Neo4j database</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/cypher-sql/">Comparing Cypher with SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/patterns/">Patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/patterns-in-practice/">Patterns in practice</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/results/">Getting the correct results</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/updating/">Updating the data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/large-statements/">Composing large statements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/subqueries/">Subqueries in Cypher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/schema/">Defining a schema</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/dates-datetimes-durations/">Dates, datetimes, and durations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/procedures-functions/">How to extend Cypher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/load-csv/">Tutorial: Import data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../cypher-intro/resources/">Cypher resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../">Connect to Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../java-intro/">Using Neo4j from Java</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="./">Spring Data Neo4j</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../quarkus/">Quarkus</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../java-frameworks/">Helidon, Micronaut</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../neo4j-ogm/">Neo4j - OGM Object Graph Mapper</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../java-procedures/">Procedures and Functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../neo4j-dotnet/">Using Neo4j from .NET</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../neo4j-javascript/">Neo4j from JavaScript</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../neo4j-python/">Using Neo4j from Python</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../neo4j-go/">Using Neo4j from Go</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integration-tools/integration/">Neo4j Connectors</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../community-drivers/">Community-contributed libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../gds/">Data science with Neo4j</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../graph-visualization/graph-visualization/">Visualize your data in Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../graph-visualization/graph-visualization-tools/">Graph visualization tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../../../appendix/">Appendix</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../../../appendix/graphdb-concepts/">Graph database concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/graphdb-concepts/graphdb-vs-rdbms/">Transition from relational to graph database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/graphdb-concepts/graphdb-vs-nosql/">Transition from NoSQL to graph database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../appendix/example-data/">Example datasets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../appendix/getting-started-resources/">Getting started resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../../../appendix/tutorials/tutorials-overview/">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/tutorials/guide-cypher-basics/">Tutorial: Getting Started with Cypher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/tutorials/guide-build-a-recommendation-engine/">Tutorial: Build a Cypher Recommendation Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/tutorials/guide-import-relational-and-etl/">Tutorial: Import data from a relational database into Neo4j</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../appendix/tutorials/guide-import-desktop-csv/">How-To: Import CSV data with Neo4j Desktop</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <div class="toolbar-wrapper">
    <button class="nav-toggle" aria-label="Toggle Table of Contents"></button>
    <a href="../../../" class="home-link" aria-label="Go to home page"></a>
    <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../">Getting Started</a></li>
    <li><a href="../../">
        Connect to Neo4j
    </a></li>
    <li><a href="../java-intro/">
        Using Neo4j from Java
    </a></li>
    <li><a href="./">
        Spring Data Neo4j
    </a></li>
  </ul>
</nav>
        <div class="edit-this-page"><a href="https://github.com/neo4j/docs-getting-started/tree/master/modules/ROOT/pages/languages-guides/java/spring-data-neo4j.adoc">Edit this Page</a></div>
    </div>
</div>

  <div class="content">
<article class="doc">
<div class="sect-header">
<h1 class="page">Spring Data Neo4j</h1>
</div>





<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
For Java developers who use the Spring Framework or Spring Boot and want to take advantage of reactive development principles, this guide introduces Spring integration through the Spring Data Neo4j project.
The library provides convenient access to Neo4j including object mapping, Spring Data repositories, conversion, transaction handling, reactive support, and more.
</blockquote>
</div>
<div class="ulist abstract">
<ul class="abstract">
<li>
<p>Familiarity with <a href="../../../get-started-with-neo4j/graph-database/" class="xref page">graph database</a> concepts and the <a href="../../../get-started-with-neo4j/graph-database/#property-graph" class="xref page">property graph model</a>.</p>
</li>
<li>
<p><a href="https://neo4j.com/cloud/aura/?ref=developer-guides">Create an AuraDB Free instance</a> and familiarity with the <a href="/developer/cypher-query-language">Cypher<sup>&reg;</sup> query language</a></p>
</li>
<li>
<p>Some knowledge/experience with Spring.
Knowing <a href="https://spring.io/projects/spring-data/" target="_blank" rel="noopener">Spring Data</a> and <a href="https://spring.io/projects/spring-boot/" target="_blank" rel="noopener">Spring Boot</a> are both great additions to your toolbox, as well.</p>
</li>
<li>
<p>For this library, please use JDK 11 or later and your favorite IDE.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reactive-development"><a class="anchor" href="#reactive-development"></a>Reactive Development</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neo4j (version 4.0+) incorporated the principles of the <a href="https://www.reactivemanifesto.org/" target="_blank" rel="noopener">reactive manifesto</a> for passing data between the database and client with the drivers.
Developers can take advantage of the reactive approach to process queries and return results.
This means that communication between the driver, and the database can be managed and adjusted dynamically according to data needs of the client.</p>
</div>
<div class="paragraph">
<p>Reactive programming principles allow the consuming side (applications and other systems) to specify the amount of data received within a certain window of time.
Neo4j&#8217;s database driver will also maintain rate limits for requesting data from the server, providing flow control throughout the entire Neo4j stack.</p>
</div>
<div class="paragraph">
<p>No matter the volume of transactions or data (even during times of high activity), the system can maintain limits on how much it can send and receive at once based on available resources.
This prevents overloads and collapses or failures, as well as lost transmissions or later catch up loads during the downtime.</p>
</div>
<div class="paragraph">
<p><a href="https://projectreactor.io/" target="_blank" rel="noopener">Project Reactor</a> is the core foundation of many implementations of reactive development, including <a href="https://spring.io/reactive" target="_blank" rel="noopener">Spring&#8217;s</a>.
Neo4j uses the Spring implementation of Project Reactor components to provide reactive support in related applications with the graph database.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-data"><a class="anchor" href="#spring-data"></a>Spring Data Neo4j</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Spring Data Neo4j 6 is the new major version of the Spring Data Neo4j project.
One of its feature benefit is the capability and support for reactive transactions, though there are other improvements and additions
such as fully immutable entity and <a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html">Java record</a>-based mapping support.</p>
</div>
<div class="paragraph">
<p>While SDN provides both imperative and reactive application development, this guide will focus on the reactive implementation.
Imperative application code and documentation in SDN is available on the <a href="https://github.com/spring-projects/spring-data-neo4j" target="_blank" rel="noopener">Github project</a>.</p>
</div>
<div class="paragraph">
<p>We can see some of the most prominent features and changes in the SDN library listed below.</p>
</div>
<div class="sect2">
<h3 id="_features"><a class="anchor" href="#_features"></a>Features</h3>
<div class="ulist">
<ul>
<li>
<p>Support for both imperative and reactive application development</p>
</li>
<li>
<p>Lightweight mapping with built-in OGM (object graph mapping) library</p>
</li>
<li>
<p>Immutable entities (for both Java and Kotlin languages)</p>
</li>
<li>
<p>New Neo4j client and reactive client feature for template-over-driver architecture</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>SDN has full support for the well-known and understood imperative programming model (much like Spring Data JDBC or JPA).
It also provides full support for the newer reactive programming based on <a href="http://www.reactive-streams.org" target="_blank" rel="noopener">Reactive Streams</a>, including <a href="https://spring.io/blog/2019/05/16/reactive-transactions-with-spring" target="_blank" rel="noopener">reactive transactions</a>.
Both functionalities are included in the same binary.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The reactive programming model requires a 4.0+ Neo4j instance (previous versions do not support reactive drivers) and reactive Spring on the application side.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One key difference of SDN 6 from the previous version of Spring Data Neo4j is that the OGM (object-graph mapping) layer is no longer a separate library.
Instead, the Spring Data infrastructure now handles OGM&#8217;s functionality.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Over the next few sections, we will walk through all of the steps for creating a reactive application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prepare-db"><a class="anchor" href="#prepare-db"></a>Prepare the database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For this example, we will use the Neo4j-standard movie graph data set because it comes for free with every Neo4j instance and is a small size.</p>
</div>
<div class="paragraph">
<p>If you haven&#8217;t already, <a href="/download/" target="_blank" rel="noopener">download Neo4j Desktop</a> and <a href="https://neo4j.com/docs/desktop-manual/current/operations/create-dbms/">create/start a database</a>.</p>
</div>
<div class="paragraph">
<p>You can interact with the database and load the data in a web browser with the URL <a href="http://localhost:7474/browser/?cmd=play&amp;arg=movies" target="_blank" rel="noopener">http://localhost:7474</a>.
Note the command ready to run in the prompt (<code>:play movies</code>).
Execute that command, and an interactive slidedeck will appear just below the command line.
On the second slide of that guide, execute the long Cypher statement to fill your database with our movie test data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-project"><a class="anchor" href="#create-project"></a>Create a new Spring Boot project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The easiest way to set up a Spring Boot project is with the Spring Initializr at <a href="https://start.spring.io" target="_blank" rel="noopener">start.spring.io</a>.
It is also integrated in the major IDEs, in case you prefer not to use the website.</p>
</div>
<div class="paragraph">
<p>Then, you can change the default group, artifact, name, and description for the project.
Next, we can choose our project dependencies.
We can search for and add the <code>Neo4j</code> and <code>Spring Reactive Web</code> starter to get what we need to create a reactive, Spring-based web application.</p>
</div>
<div class="paragraph">
<p>Once those steps are complete, we can click the <code>Generate</code> button at the bottom to create the skeleton for our project and download it.
The Spring Initializr will take care of creating the project structure for you, with the basic files and settings in place for the selected build tool.</p>
</div>
<div class="sect2">
<h3 id="_other_dependencies"><a class="anchor" href="#_other_dependencies"></a>Other dependencies</h3>
<div class="paragraph">
<p>If you are looking at the project in Github, you might notice that there are some other dependencies in the <code>pom.xml</code>.
A couple are for adding tests to the project, then one dependency for developer tools, and a couple more for test containers.</p>
</div>
<div class="paragraph">
<p>More information on the testing functionality can be found in the <a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#sdn.testing" target="_blank" rel="noopener">documentation</a>.</p>
</div>
<div class="listingblock">
<div class="title">Testing and dev tools dependencies</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
    &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;
    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;
    &lt;version&gt;1.17.6&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;
    &lt;artifactId&gt;neo4j&lt;/artifactId&gt;
    &lt;version&gt;1.17.6&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-config"><a class="anchor" href="#adding-config"></a>Adding configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, we need to add a few configurations to connect to the database.
We can find the <code>application.properties</code> file and configure what we need.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">spring.neo4j.uri=neo4j+s://abcd.databases.neo4j.io
spring.neo4j.authentication.username=neo4j
spring.neo4j.authentication.password=secret</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You need to adjust the password to whatever you set when you created your instance of Neo4j.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The first three lines are our Neo4j database URI and credentials.
The username and password you enter here should match for your individual database.
This is the bare minimum of what you need to connect to a Neo4j instance.</p>
</div>
<div class="paragraph">
<p>We do not need to add any other configuration for the driver, thanks to the Spring Boot Driver autoconfiguration provided out of the box with SDN 6.</p>
</div>
<div class="sect2">
<h3 id="_other_configurations"><a class="anchor" href="#_other_configurations"></a>Other configurations</h3>
<div class="sect3">
<h4 id="_logging"><a class="anchor" href="#_logging"></a>Logging</h4>
<div class="paragraph">
<p>There is also one additional property we could define.
It is not a required property, but does allow us to see the Cypher statements and see better insight into what is running behind our application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">logging.level.org.springframework.data.neo4j=DEBUG</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_database_selection"><a class="anchor" href="#_database_selection"></a>Database selection</h4>
<div class="paragraph">
<p>Since version 4.0, Neo4j is <a href="https://neo4j.com/developer/multi-tenancy-worked-example/">multi-tenant</a>.
We can statically select the database by providing a property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">spring.data.neo4j.database = my-database</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more advanced use cases, it is possible to perform a dynamic selection, as documented <a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#faq.multidatabase.dynamically">here</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-domain"><a class="anchor" href="#create-domain"></a>Create the domain</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With our project dependencies defined and configurations set, we are ready to start defining our entities for our data domain!
The domain layer should accomplish two things:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Map the graph to objects.</p>
</li>
<li>
<p>Provide access to those objects.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Our data contains movie and person entities that show how people were involved in various films, such as who acted in, directed, wrote, produced, etc.
We will need to define a domain class for each of our entities - <code>Movie</code> and <code>Person</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SDN supports all data types that the Neo4j Java Driver supports.
To find out how to map Neo4j types to native language types, see <a href="/docs/java-manual/current/cypher-workflow/#driver-type-mapping" target="_blank" rel="noopener">this section</a> in the documentation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="movie-entity"><a class="anchor" href="#movie-entity"></a>Movie entity</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Node("Movie")
public class MovieEntity {
	@Id
	private final String title;
	@Property("tagline")
	private final String description;
	@Relationship(type = "ACTED_IN", direction = INCOMING)
	private Set&lt;PersonEntity&gt; actors = new HashSet&lt;&gt;();
	@Relationship(type = "DIRECTED", direction = INCOMING)
	private Set&lt;PersonEntity&gt; directors = new HashSet&lt;&gt;();
	public MovieEntity(String title, String description) {
		this.title = title;
		this.description = description;
	}
	//Getters omitted for brevity
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the first line, the <code>@Node</code> annotation is used to mark the class as a managed entity.
It also configures the Neo4j label, which defaults to the name of the class, but you can define a custom one, as well.</p>
</div>
<div class="paragraph">
<p>The first couple of lines inside the class definition sets up the id field of the entity as the <code>title</code> attribute.
The title is a unique business key in this domain, but if you don&#8217;t have a unique key in another domain, you can use the combination of <code>@Id</code> and <code>@GeneratedValue</code> annotations on a field to generate a unique technical key.
There are also generators provided for UUIDs.</p>
</div>
<div class="paragraph">
<p>The two lines below those set up the <code>tagline</code> (or <code>description</code>) property.
The <code>@Property</code> annotation is used as a way for mapping a different name for the field than for the graph property.
This way, you can map differences between application entities and database domains.</p>
</div>
<div class="paragraph">
<p>At the next annotation, the <code>@Relationship</code> defines a relationship between the movie and person entities with an <code>ACTED_IN</code> type for showing which persons acted in a particular movie.
The two lines below that define another relationship between <code>MovieEntity</code> and <code>PersonEntity</code> for those who directed movies.</p>
</div>
<div class="paragraph">
<p>Then, the next code block defines a constructor for the entity with the properties of the node (<code>title</code> and <code>description</code>).</p>
</div>
<div class="paragraph">
<p>As mentioned above, you can use SDN with <a href="https://kotlinlang.org/" target="_blank" rel="noopener">Kotlin</a> and model your domain with Kotlin&#8217;s data classes.
<a href="https://projectlombok.org/" target="_blank" rel="noopener">Project Lombok</a> is also available to shortcut definitions and boilerplate, if you want or need to stay purely within Java.</p>
</div>
</div>
<div class="sect2">
<h3 id="person-entity"><a class="anchor" href="#person-entity"></a>Person entity</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Node("Person")
public class PersonEntity {
	@Id
	private final String name;
	private final Integer born;
	public PersonEntity(Integer born, String name) {
		this.born = born;
		this.name = name;
	}
    //Getters omitted
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class for person entities looks very similar to our <code>MovieEntity</code> class above.
The <code>@Node</code> annotation defines that it is a database domain entity.
A unique key field is identified (in this case, the <code>name</code> property), and a <code>born</code> property is defined as another attribute on this class.
The constructor for the class follows the properties.</p>
</div>
<div class="paragraph">
<p>Notice that we have not defined the relationships from a person back to a movie.
In our use case, we only want to retrieve movies and the people involved in them.
Our application does not need us to pull information for person entities separately, so we do not need to define the relationships back in the other direction.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a domain needs to pull related entities on both sides, we would need to add the annotations and attributes from both sides.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="define-repository"><a class="anchor" href="#define-repository"></a>Define a Spring Data repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our repositories in the application will extend a repository provided out-of-the-box called the <code>ReactiveNeo4jRepository</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If building an imperative application, you can extend the <code>Neo4jRepository</code>.
Also, while technically not prohibited, it is not recommended or supported to mix imperative and reactive database access in the same application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Because our repositories are implementing reactive capabilities, we have access to the <a href="https://projectreactor.io/docs/core/release/reference/#mono" target="_blank" rel="noopener">Mono</a> and <a href="https://projectreactor.io/docs/core/release/reference/#flux" target="_blank" rel="noopener">Flux</a> reactive types from <a href="https://projectreactor.io/" target="_blank" rel="noopener">Project Reactor</a> for method returns.
The <code>Mono</code> type returns 0 or 1 results, while the <code>Flux</code> returns 0 or n results.
We would use a return type of <code>Mono</code> if we were expecting a single object back from the query and use a <code>Flux</code> type if we were expecting potentially multiple objects back from the query.</p>
</div>
<div class="sect2">
<h3 id="movie-repository"><a class="anchor" href="#movie-repository"></a>Movie repository</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface MovieRepository extends ReactiveNeo4jRepository&lt;MovieEntity, String&gt; {
	Mono&lt;MovieEntity&gt; findOneByTitle(String title);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For our application, we need to interact with a Neo4j graph database, so we will create an interface that extends the repository for Neo4j.</p>
</div>
<div class="paragraph">
<p>Since we want to use the reactive features for the application, we will extend the <code>ReactiveNeo4jRepository</code>, which provides reactive, Neo4j-specific implementation details on top of several extended Spring repositories.
The ReactiveNeo4jRepository requires two types to be specified — our class type and its id type.
Once we add our <code>MovieEntity</code> and <code>String</code> (our movie id field is the <code>title</code>) values here, we can start defining methods we want to use.</p>
</div>
<div class="paragraph">
<p>Inside the interface definition, there is one method we will define for <code>findOneByTitle()</code>.
This method will let us search the database based on a movie title, and we expect to see a single movie return or none at all for the movie we are interested in.</p>
</div>
<div class="paragraph">
<p>To get that 0 or 1 return result, we can use the reactive return type of <code>Mono&lt;MovieEntity&gt;</code>.
We will also pass a title (a String) to the method because we want to allow the user to enter any movie title as the search value.</p>
</div>
</div>
<div class="sect2">
<h3 id="person-repository"><a class="anchor" href="#person-repository"></a>Person repository</h3>
<div class="paragraph">
<p>While there is a <code>PersonRepository</code> interface in the Github code, it serves testing purposes for that application, so we will not go into detail on it here.
More information on testing in SDN with this application is in the <a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#sdn.testing" target="_blank" rel="noopener">documentation</a>.</p>
</div>
<div class="paragraph">
<p>However, it does demonstrate using a custom query and the <code>Flux</code> return type, so it may be of interest as an example or for a template for other applications.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="controller-setup"><a class="anchor" href="#controller-setup"></a>Setting up the controllers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the repository, we have our methods for accessing movie data in our database.
Let us now define endpoints allowing users to access those methods and query the database.</p>
</div>
<div class="paragraph">
<p>The controller acts as the messenger between the data layer and the user interface to accept requests from the user and return responses.
This is where the code logic and data manipulation is typically placed, coordinating different responses based on the kind of input it receives.</p>
</div>
<div class="paragraph">
<p>Because our use case scope is interested in movies, we only need to create a controller to access movie data.</p>
</div>
<div class="sect2">
<h3 id="movie-controller"><a class="anchor" href="#movie-controller"></a>MovieController.java</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RestController
@RequestMapping("/movies")
public class MovieController {
	private final MovieRepository movieRepository;
	public MovieController(MovieRepository movieRepository) {
		this.movieRepository = movieRepository;
	}
	//method implementations with walkthroughs below
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>First, we need to have a couple of annotations to declare this as a controller for REST requests (<code>@RestController</code>) and map requests to controller methods for a certain path (<code>@RequestMapping</code> with an endpoint of <code>/movies</code>).</p>
</div>
<div class="paragraph">
<p>Within our class definition, we start by injecting our repository interface and creating a constructor for it.
This gives us access to the data layer from our repository interface and domain class.</p>
</div>
<div class="paragraph">
<p>Now we need to add more code to define endpoints and implement our data methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PutMapping
Mono&lt;MovieEntity&gt; createOrUpdateMovie(@RequestBody MovieEntity newMovie) {
	return movieRepository.save(newMovie);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Up first is the implementation for <code>createOrUpdateMovie()</code>.
We start with a <code>@PutMapping</code> annotation to specify a put request (overwrite or replace an object).
We want to specify a single movie to overwrite or create, so we use the return type of <code>Mono</code> and pass in the movie object with all of its expected fields.
Within the method, we will save that new or updated movie by calling the movie repository&#8217;s <code>save()</code> method.</p>
</div>
<div class="paragraph">
<p>Now, if you scroll back up to our defined <a href="#movie-repository"><code>MovieRepository</code></a> interface above, you may notice that we did not define a save method there.
This is because Spring Data repositories provide a few default methods for us out-of-the-box.
Methods for <code>save()</code>, <code>findAll()</code>, etc are methods that nearly every application wants or needs, so Spring provides them, and we do not have to implement those basic methods each time we create data access.</p>
</div>
<div class="paragraph">
<p>Let us add another method to our controller for <code>getMovies()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@GetMapping(value = { "", "/" }, produces = MediaType.TEXT_EVENT_STREAM_VALUE)
Flux&lt;MovieEntity&gt; getMovies() {
	return movieRepository.findAll();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@GetMapping</code> annotation tells us we are only retrieving data from the database and not modifying or inserting.
We have two parameters for the annotation, where we pass any additional depth on the url path (in this case, no additional depth - just <code>/movies</code>) and that we want to return a text event stream.
This is our media type because we are expecting a <code>Flux</code> of results (0 to n amount), and we want to return those as they come in (reactive stream), rather than aggregating and returning all the results at once (imperative json object).
Just like our previous method, we call the movie repository and access an out-of-the-box <code>findAll()</code> method to return all of the movies in our database.</p>
</div>
<div class="paragraph">
<p>The next method is the one we defined in our <code>MovieRepository</code> interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@GetMapping("/by-title")
Mono&lt;MovieEntity&gt; byTitle(@RequestParam String title) {
	return movieRepository.findOneByTitle(title);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The starting <code>@GetMapping</code> specifies a subpath of <code>/by-title</code>.
Since we are searching for a single movie where the user will input a title as the search string, we expect 0 or 1 result back with the type <code>Mono</code> and pass the user-defined parameter of the movie&#8217;s title into the method.
In the return, we call the movie repository again and access our defined <code>findOneByTitle()</code> method, passing in the search title.</p>
</div>
<div class="paragraph">
<p>For the last method definition, we want to allow users to delete a movie from our database.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DeleteMapping("/\{id\}")
Mono&lt;Void&gt; delete(@PathVariable String id) {
	return movieRepository.deleteById(id);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We use the <code>@DeleteMapping</code> annotation and specify the subpath endpoint as <code>/movies/{id}</code> (where id stands for the id of the movie we want to delete).
We only want one movie to be deleted at a time, and we don&#8217;t expect an object to return (since it will be deleted and no longer in the database), so we specify the <code>Mono&lt;Void&gt;</code> as the return type.
The method is defined and passes in a path variable (where user input defines the url path) for the id of the movie to delete, then calls the movie repository with the out-of-the-box <code>deleteById()</code> method and the movie id.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run-application"><a class="anchor" href="#run-application"></a>Running the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With all of our code in place, we should be ready to build and run our application and try out the endpoints we set up!
We can run the application (from a menu option in our IDE or from the command line) and then either open a web browser or command line to interact with the endpoints.
For this example, we will show how to interact from the command line perspective.</p>
</div>
<div class="paragraph">
<p>Either way you connect, we will use the <code>localhost:8080/movies</code> path to access the <code>findAll()</code> method and retrieve all movies in our database, and then add any defined subpaths to drill down into other methods.
We can hit each of these endpoints shown below and verify everything is working as expected.</p>
</div>
<div class="sect2">
<h3 id="_interacting_from_a_command_line"><a class="anchor" href="#_interacting_from_a_command_line"></a>Interacting from a command line</h3>
<div class="paragraph">
<p>Here is the syntax for each of the endpoints from a command line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>localhost:8080/movies</code> for getMovies() method</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl http://localhost:8080/movies</code></pre>
</div>
</div>
<div class="paragraph">
<p>Results: retrieve all movies in our database</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>localhost:8080/movies &lt;movieToUpdateOrCreate&gt;</code> for createOrUpdateMovie() method</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X "PUT" "http://localhost:8080/movies" \
     -H 'Content-Type: application/json; charset=utf-8' \
     -d $'{
  "title": "Aeon Flux",
  "description": "Reactive is the new cool"
}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Results: create new movie <code>Aeon Flux</code> in our database</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>localhost:8080/movies/by-title</code> for byTitle() method</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl http://localhost:8080/movies/by-title\?title\=Aeon%20Flux</code></pre>
</div>
</div>
<div class="paragraph">
<p>Results: retrieve information about the specific movie (in this query, <code>Aeon Flux</code>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>localhost:8080/movies/{id}</code> for delete() method</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X DELETE http://localhost:8080/movies/847</code></pre>
</div>
</div>
<div class="paragraph">
<p>Results: delete the movie using its id (in this case, the <code>Aeon Flux</code> movie)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sdn-resources"><a class="anchor" href="#sdn-resources"></a>Resources</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-code-fork"></i></span> Projects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://spring.io/projects/spring-data-neo4j/" target="_blank" rel="noopener">Spring Data Neo4j</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-github"></i></span> Source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-data-neo4j" class="bare">https://github.com/spring-projects/spring-data-neo4j</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-medkit"></i></span> Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-data-neo4j/issues" target="_blank" rel="noopener">GitHub Issues</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-book"></i></span> Docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/" target="_blank" rel="noopener">Reference</a>, <a href="http://docs.spring.io/spring-data/data-neo4j/docs/current/api/" target="_blank" rel="noopener">JavaDoc</a>, <a href="https://github.com/spring-projects/spring-data-neo4j/releases" target="_blank" rel="noopener">ChangeLog</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-book"></i></span> Articles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://medium.com/neo4j/spring-data-neo4j-6-0-8b92164fff32" target="_blank" rel="noopener">Introducing SDN 6</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-play-circle"></i></span> Examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-data-neo4j" target="_blank" rel="noopener">SDN Example from Spring</a>, <a href="https://github.com/neo4j-examples/movies-java-spring-data-neo4j" target="_blank" rel="noopener">Movies Application with SDN</a>, <a href="https://github.com/neo4j-examples/sdn-migration" target="_blank" rel="noopener">Migration Example from SDN 5/OGM to SDN 6</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../java-intro/">Using Neo4j from Java</a></span>

  <span class="next"><a href="../quarkus/">Quarkus</a></span>
</nav>
    <div class="feedback">
    <div class="header question">
        <p><strong>Was this page helpful?</strong></p>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="no" aria-label="No, this page isn't helpful">
            <path
                d="M6.25,15.8333333 C6.25,13.7622655 7.92893219,12.0833333 10,12.0833333 C12.0710678,12.0833333 13.75,13.7622655 13.75,15.8333333"
                ></path>
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M12.5,4.58333333 C12.8934466,4.05873783 13.5109223,3.75 14.1666667,3.75 C14.822411,3.75 15.4398867,4.05873783 15.8333333,4.58333333"
                ></path>
            <line x1="4.58333333" y1="7.91666667" x2="7.08333333" y2="7.91666667" ></line>
            <path
                d="M7.08333333,8.54166667 C6.96827401,8.54166667 6.875,8.44839266 6.875,8.33333333 C6.875,8.21827401 6.96827401,8.125 7.08333333,8.125 C7.19839266,8.125 7.29166667,8.21827401 7.29166667,8.33333333 C7.29166667,8.44839266 7.19839266,8.54166667 7.08333333,8.54166667"
                ></path>
            <line x1="12.9166667" y1="7.91666667" x2="15.4166667" y2="7.91666667" ></line>
            <path
                d="M15.4166667,8.54166667 C15.3016073,8.54166667 15.2083333,8.44839266 15.2083333,8.33333333 C15.2083333,8.21827401 15.3016073,8.125 15.4166667,8.125 C15.531726,8.125 15.625,8.21827401 15.625,8.33333333 C15.625,8.44839266 15.531726,8.54166667 15.4166667,8.54166667"
                ></path>
            <path
                d="M4.16666667,4.58333333 C4.5601133,4.05873783 5.17758895,3.75 5.83333333,3.75 C6.48907772,3.75 7.10655337,4.05873783 7.5,4.58333333"
                ></path>
        </svg>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="yes" aria-label="Yes, this page is helpful">
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M5.41666667,8.125 C5.53172599,8.125 5.625,8.21827401 5.625,8.33333333 C5.625,8.44839266 5.53172599,8.54166667 5.41666667,8.54166667 C5.30160734,8.54166667 5.20833333,8.44839266 5.20833333,8.33333333 C5.20833333,8.21827401 5.30160734,8.125 5.41666667,8.125"
                ></path>
            <path
                d="M14.5833333,8.125 C14.468274,8.125 14.375,8.21827401 14.375,8.33333333 C14.375,8.44839266 14.468274,8.54166667 14.5833333,8.54166667 C14.6983927,8.54166667 14.7916667,8.44839266 14.7916667,8.33333333 C14.7916667,8.21827401 14.6983927,8.125 14.5833333,8.125"
                ></path>
            <path
                d="M13.2275,12.9166657 C13.4853075,12.9162808 13.7287776,13.035241 13.8869095,13.2388563 C14.0450415,13.4424715 14.1000278,13.7078123 14.0358333,13.9575 C13.562901,15.7999679 11.9021969,17.0882321 10,17.0882321 C8.09780311,17.0882321 6.43709903,15.7999679 5.96416667,13.9575 C5.89997223,13.7078123 5.95495852,13.4424715 6.11309045,13.2388563 C6.27122239,13.035241 6.51469246,12.9162808 6.7725,12.9166657 L13.2275,12.9166657 Z"
                ></path>
        </svg>
    </div>


</div></article>
<aside class="toc sidebar" data-title="Contents"
  data-levels="2">
  <div class="toc-menu">
    <div class="toc-menu-placeholder"></div>

      </div>
  </aside>  </div>
</main>
</div>
<footer class="footer">
  <div class="wrapper">
  <div class="column">
    <div class="logo-footer"></div>
    <p>© <span id="footer-copyright-year">2023</span> Neo4j, Inc.<br>
      <a href="https://neo4j.com/terms/">Terms</a> | <a href="https://neo4j.com/privacy-policy/">Privacy </a> | <a href="https://neo4j.com/sitemap/">Sitemap</a></p>
    <p>Neo4j<sup>®</sup>, Neo Technology<sup>®</sup>, Cypher<sup>®</sup>, Neo4j<sup>®</sup> Bloom<sup>™</sup> and
      Neo4j<sup>®</sup> Aura<sup>™</sup> are registered trademarks
      of Neo4j, Inc. All other marks are owned by their respective companies.</p>
  </div>

  <div class="column">
    <h2><a href="https://neo4j.com/contact-us/?ref=footer">Contact Us →</a></h2>
    <p>US: 1-855-636-4532<br>
      Sweden +46 171 480 113<br>
      UK: +44 20 3868 3223<br>
      France: +33 (0) 1 88 46 13 20<br>
      <!--Germany: +49 (0)89 26204 6300</p>-->
    </p>
  </div>
  <div class="column links">
    <h2>Learn</h2>
    <ul>
      <li><i class="fa fa-wrench" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/sandbox/?ref=developer-footer">Sandbox</a></li>
      <li><i class="fa fa-comments-o" aria-hidden="true"></i> <a rel="noopener" href="https://community.neo4j.com?ref=developer-footer" target="_blank">Neo4j Community Site</a></li>
      <li><i class="fa fa-book" aria-hidden="true"></i> <a rel="noopener" href="https://medium.com/neo4j" target="_blank">Neo4j Developer Blog</a></li>
      <li><i class="fa fa-youtube" aria-hidden="true"></i> <a rel="noopener" href="https://www.youtube.com/neo4j" target="_blank">Neo4j Videos</a></li>
      <li><i class="fa fa-graduation-cap" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/graphacademy/?ref=developer-footer">GraphAcademy</a></li>
      <li><i class="fa fa-flask" aria-hidden="true"></i> <a href="https://neo4j.com/labs/?ref=developer-footer">Neo4j Labs</a></li>
    </ul>
  </div>
  <div class="column links">
    <h2>Social</h2>
    <ul>
      <li><i class="fa fa-twitter" aria-hidden="true"></i> <a rel="noopener" href="https://twitter.com/neo4j" target="_blank">Twitter</a></li>
      <li><i class="fa fa-meetup" aria-hidden="true"></i> <a rel="noopener" href="https://www.meetup.com/Neo4j-Online-Meetup/" target="_blank">Meetups</a></li>
      <li><i class="fa fa-github" aria-hidden="true"></i> <a rel="noopener" href="https://github.com/neo4j/neo4j" target="_blank">Github</a></li>
      <li><i class="fa fa-stack-overflow" aria-hidden="true"></i> <a rel="noopener" href="https://stackoverflow.com/questions/tagged/neo4j" target="_blank">Stack Overflow</a></li>

      <li class="speaker-program"><a href="https://docs.google.com/forms/d/e/1FAIpQLSdEcNnMruES5iwvOVYovmS1D_P1ZL_HdUOitFrwrvruv5PZvA/viewform">Want to Speak?</a></li>
    </ul>
  </div>
</div>
</footer>

  <script src="../../../../assets/js/vendor/auth0.js"></script>
  <script src="../../../../assets/js/site.js"></script>
  <script async src="../../../../assets/js/vendor/highlight.js"></script>
  <script async src="../../../../assets/js/vendor/image-zoom.js"></script>


<div id="neo4j-algolia-search-v2"></div>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.js"></script>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/polyfill.js"></script>
<script>window.algoliaSearchOptions = {indexName: "docs",placeholder: "Search Documentation",template: "docs"}</script>  </body>
</html>
